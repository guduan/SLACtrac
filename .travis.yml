language: python

python: 3.5

env: TOXENV=py35 TRAV_DIST="sdist bdist_wheel"

before_install:
  - wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
  - chmod +x miniconda.sh
  - "./miniconda.sh -b"
  - export PATH=/home/travis/miniconda3/bin:$PATH
  - conda update --yes conda
  - sudo rm -rf /dev/shm
  - sudo ln -s /run/shm /dev/shm

install:
  - conda install --yes python=$TRAVIS_PYTHON_VERSION atlas numpy scipy matplotlib nose
  - pip install jinja2

script:
  - "./nosetest.py"

deploy:
  - provider: releases
    api_key:
    on:
      repo: joelfrederico/SciSalt
      tags: true
  - provider: pypi
    user: JoelFrederico
    password:
    on:
      tags: true
      repo: joelfrederico/SciSalt

notifications:
  slack:
  email: false
